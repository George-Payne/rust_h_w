extern crate english_numbers;
extern crate ordinal;
extern crate rand;

use english_numbers::convert_all_fmt;
use ordinal::Ordinal;
use rand::Rng;
use std::io;

fn main() {
    let n = input_num("How many days of christmas?");
    let mut gifts = vec![];
    let mut day = 1;

    while day <= n {
        println!(
            "On the {} day of Christmas my true love gave to me",
            Ordinal::from(day)
        );

        if day == 1 {
            println!("a partrage in a pear tree");
        } else {
            for gift in gifts.iter().rev() {
                let (a, b, c) = gift;
                println!("{} {}s {}", a, b, c)
            }

            println!("and a partrage in a pear tree");
        }

        day = day + 1;

        let x = new_gift(day);

        gifts.push(x)
    }
}

fn new_gift(day: i64) -> (std::string::String, &'static str, &'static str) {
    (convert_all_fmt(day), get_fresh_animal(), get_fresh_verb())
}

fn input_num(req: &str) -> i64 {
    println!("{}", req);

    let mut n = String::new();
    io::stdin()
        .read_line(&mut n)
        .expect("failed to read line :(");

    match n.trim().parse() {
        Ok(num) => num,
        Err(err) => {
            println!("oops: {}, I'll just choose 12", err);
            12
        }
    }
}

fn get_fresh_animal() -> &'static str {
    let animals = [
        "aardvark",
        "albatross",
        "alligator",
        "alpaca",
        "ant",
        "anteater",
        "antelope",
        "ape",
        "armadillo",
        "baboon",
        "badger",
        "barracuda",
        "bat",
        "bear",
        "beaver",
        "bee",
        "bison",
        "boar",
        "buffalo",
        "butterfly",
        "camel",
        "capybara",
        "caribou",
        "cassowary",
        "cat",
        "caterpillar",
        "cattle",
        "chamois",
        "cheetah",
        "chicken",
        "chimpanzee",
        "chinchilla",
        "chough",
        "clam",
        "cobra",
        "cockroach",
        "cod",
        "cormorant",
        "coyote",
        "crab",
        "crane",
        "crocodile",
        "crow",
        "curlew",
        "deer",
        "dinosaur",
        "dog",
        "dogfish",
        "dolphin",
        "donkey",
        "dotterel",
        "dove",
        "dragonfly",
        "duck",
        "dugong",
        "dunlin",
        "eagle",
        "echidna",
        "eel",
        "eland",
        "elephant",
        "elephant-seal",
        "elk",
        "emu",
        "falcon",
        "ferret",
        "finch",
        "fish",
        "flamingo",
        "fly",
        "fox",
        "frog",
        "gaur",
        "gazelle",
        "gerbil",
        "giant-panda",
        "giraffe",
        "gnat",
        "gnu",
        "goat",
        "goose",
        "goldfinch",
        "goldfish",
        "gorilla",
        "goshawk",
        "grasshopper",
        "grouse",
        "guanaco",
        "guinea-fowl",
        "guinea-pig",
        "gull",
        "hamster",
        "hare",
        "hawk",
        "hedgehog",
        "heron",
        "herring",
        "hippopotamus",
        "hornet",
        "horse",
        "human",
        "hummingbird",
        "hyena",
        "ibex",
        "ibis",
        "jackal",
        "jaguar",
        "jay",
        "jellyfish",
        "kangaroo",
        "kingfisher",
        "koala",
        "komodo-dragon",
        "kookabura",
        "kouprey",
        "kudu",
        "lapwing",
        "lark",
        "lemur",
        "leopard",
        "lion",
        "llama",
        "lobster",
        "locust",
        "loris",
        "louse",
        "lyrebird",
        "magpie",
        "mallard",
        "manatee",
        "mandrill",
        "mantis",
        "marten",
        "meerkat",
        "mink",
        "mole",
        "mongoose",
        "monkey",
        "moose",
        "mouse",
        "mosquito",
        "mule",
        "narwhal",
        "newt",
        "nightingale",
        "octopus",
        "okapi",
        "opossum",
        "oryx",
        "ostrich",
        "otter",
        "owl",
        "ox",
        "oyster",
        "panther",
        "parrot",
        "partridge",
        "peafowl",
        "pelican",
        "penguin",
        "pheasant",
        "pig",
        "pigeon",
        "polar-bear",
        "pony",
        "porcupine",
        "porpoise",
        "prairie-dog",
        "quail",
        "quelea",
        "quetzal",
        "rabbit",
        "raccoon",
        "rail",
        "ram",
        "rat",
        "raven",
        "red-deer",
        "red-panda",
        "reindeer",
        "rhinoceros",
        "rook",
        "salamander",
        "salmon",
        "sand-dollar",
        "sandpiper",
        "sardine",
        "scorpion",
        "sea-lion",
        "sea-urchin",
        "seahorse",
        "seal",
        "shark",
        "sheep",
        "shrew",
        "skunk",
        "snail",
        "snake",
        "sparrow",
        "spider",
        "spoonbill",
        "squid",
        "squirrel",
        "starling",
        "stingray",
        "stinkbug",
        "stork",
        "swallow",
        "swan",
        "tapir",
        "tarsier",
        "termite",
        "tiger",
        "toad",
        "trout",
        "turkey",
        "turtle",
        "vicuÃ±a",
        "viper",
        "vulture",
        "wallaby",
        "walrus",
        "wasp",
        "water-buffalo",
        "weasel",
        "whale",
        "wolf",
        "wolverine",
        "wombat",
        "woodcock",
        "woodpecker",
        "worm",
        "wren",
        "yak",
        "zebra",
    ];

    match rand::thread_rng().choose(&animals) {
        Some(animal) => animal,
        _ => "human",
    }
}

fn get_fresh_verb() -> &'static str {
    let verbs = [
        "accepting",
        "adding",
        "admireing",
        "admiting",
        "adviseing",
        "affording",
        "agreeing",
        "alerting",
        "allowing",
        "amuseing",
        "analyseing",
        "announceing",
        "annoying",
        "answering",
        "apologiseing",
        "appearing",
        "applauding",
        "appreciateing",
        "approveing",
        "argueing",
        "arrangeing",
        "arresting",
        "arriveing",
        "asking",
        "attaching",
        "attacking",
        "attempting",
        "attending",
        "attracting",
        "avoiding",
        "backing",
        "bakeing",
        "balanceing",
        "baning",
        "banging",
        "bareing",
        "bating",
        "batheing",
        "battleing",
        "beaming",
        "beging",
        "behaveing",
        "belonging",
        "bleaching",
        "blessing",
        "blinding",
        "blinking",
        "bloting",
        "blushing",
        "boasting",
        "boiling",
        "bolting",
        "bombing",
        "booking",
        "boreing",
        "borrowing",
        "bounceing",
        "bowing",
        "boxing",
        "brakeing",
        "branching",
        "breatheing",
        "bruiseing",
        "brushing",
        "bubbleing",
        "bumping",
        "burning",
        "burying",
        "buzzing",
        "calculateing",
        "calling",
        "camping",
        "careing",
        "carrying",
        "carveing",
        "causeing",
        "challengeing",
        "changeing",
        "chargeing",
        "chaseing",
        "cheating",
        "checking",
        "cheering",
        "chewing",
        "chokeing",
        "choping",
        "claiming",
        "claping",
        "cleaning",
        "clearing",
        "cliping",
        "closeing",
        "coaching",
        "coiling",
        "collecting",
        "colouring",
        "combing",
        "commanding",
        "communicateing",
        "compareing",
        "competeing",
        "complaining",
        "completeing",
        "concentrateing",
        "concerning",
        "confessing",
        "confuseing",
        "connecting",
        "considering",
        "consisting",
        "containing",
        "continueing",
        "copying",
        "correcting",
        "coughing",
        "counting",
        "covering",
        "cracking",
        "crashing",
        "crawling",
        "crossing",
        "crushing",
        "crying",
        "cureing",
        "curling",
        "curveing",
        "cycleing",
        "daming",
        "damageing",
        "danceing",
        "dareing",
        "decaying",
        "deceiveing",
        "decideing",
        "decorateing",
        "delaying",
        "delighting",
        "delivering",
        "depending",
        "describeing",
        "deserting",
        "deserveing",
        "destroying",
        "detecting",
        "developing",
        "disagreeing",
        "disappearing",
        "disapproveing",
        "disarming",
        "discovering",
        "dislikeing",
        "divideing",
        "doubleing",
        "doubting",
        "draging",
        "draining",
        "dreaming",
        "dressing",
        "driping",
        "droping",
        "drowning",
        "druming",
        "drying",
        "dusting",
        "earning",
        "educateing",
        "embarrassing",
        "employing",
        "emptying",
        "encourageing",
        "ending",
        "enjoying",
        "entering",
        "entertaining",
        "escapeing",
        "examineing",
        "exciteing",
        "excuseing",
        "exerciseing",
        "existing",
        "expanding",
        "expecting",
        "explaining",
        "explodeing",
        "extending",
        "faceing",
        "fadeing",
        "failing",
        "fancying",
        "fastening",
        "faxing",
        "fearing",
        "fenceing",
        "fetching",
        "fileing",
        "filling",
        "filming",
        "fireing",
        "fiting",
        "fixing",
        "flaping",
        "flashing",
        "floating",
        "flooding",
        "flowing",
        "flowering",
        "folding",
        "following",
        "fooling",
        "forceing",
        "forming",
        "founding",
        "frameing",
        "frightening",
        "frying",
        "gathering",
        "gazeing",
        "glowing",
        "glueing",
        "grabing",
        "grateing",
        "greaseing",
        "greeting",
        "grining",
        "griping",
        "groaning",
        "guaranteeing",
        "guarding",
        "guessing",
        "guideing",
        "hammering",
        "handing",
        "handleing",
        "hanging",
        "happening",
        "harassing",
        "harming",
        "hateing",
        "haunting",
        "heading",
        "healing",
        "heaping",
        "heating",
        "helping",
        "hooking",
        "hoping",
        "hopeing",
        "hovering",
        "huging",
        "huming",
        "hunting",
        "hurrying",
        "identifying",
        "ignoreing",
        "imagineing",
        "impressing",
        "improveing",
        "includeing",
        "increaseing",
        "influenceing",
        "informing",
        "injecting",
        "injureing",
        "instructing",
        "intending",
        "interesting",
        "interfereing",
        "interrupting",
        "introduceing",
        "inventing",
        "inviteing",
        "irritateing",
        "itching",
        "jailing",
        "jaming",
        "joging",
        "joining",
        "jokeing",
        "judgeing",
        "juggleing",
        "jumping",
        "kicking",
        "killing",
        "kissing",
        "kneeling",
        "kniting",
        "knocking",
        "knoting",
        "labeling",
        "landing",
        "lasting",
        "laughing",
        "launching",
        "learning",
        "leveling",
        "licenseing",
        "licking",
        "lieing",
        "lightening",
        "likeing",
        "listing",
        "listening",
        "liveing",
        "loading",
        "locking",
        "longing",
        "looking",
        "loveing",
        "maning",
        "manageing",
        "marching",
        "marking",
        "marrying",
        "matching",
        "mateing",
        "mattering",
        "measureing",
        "meddleing",
        "melting",
        "memoriseing",
        "mending",
        "messing up",
        "milking",
        "mineing",
        "missing",
        "mixing",
        "moaning",
        "mooring",
        "mourning",
        "moveing",
        "muddleing",
        "muging",
        "multiplying",
        "murdering",
        "nailing",
        "nameing",
        "needing",
        "nesting",
        "noding",
        "noteing",
        "noticeing",
        "numbering",
        "obeying",
        "objecting",
        "observeing",
        "obtaining",
        "occuring",
        "offending",
        "offering",
        "opening",
        "ordering",
        "overflowing",
        "oweing",
        "owning",
        "packing",
        "paddleing",
        "painting",
        "parking",
        "parting",
        "passing",
        "pasteing",
        "pating",
        "pauseing",
        "pecking",
        "pedaling",
        "peeling",
        "peeping",
        "performing",
        "permiting",
        "phoneing",
        "picking",
        "pinching",
        "pineing",
        "placeing",
        "planing",
        "planting",
        "playing",
        "pleaseing",
        "pluging",
        "pointing",
        "pokeing",
        "polishing",
        "poping",
        "possessing",
        "posting",
        "pouring",
        "practiseing",
        "praying",
        "preaching",
        "precedeing",
        "prefering",
        "prepareing",
        "presenting",
        "preserveing",
        "pressing",
        "pretending",
        "preventing",
        "pricking",
        "printing",
        "produceing",
        "programing",
        "promiseing",
        "protecting",
        "provideing",
        "pulling",
        "pumping",
        "punching",
        "punctureing",
        "punishing",
        "pushing",
        "questioning",
        "queueing",
        "raceing",
        "radiateing",
        "raining",
        "raiseing",
        "reaching",
        "realiseing",
        "receiveing",
        "recogniseing",
        "recording",
        "reduceing",
        "reflecting",
        "refuseing",
        "regreting",
        "reigning",
        "rejecting",
        "rejoiceing",
        "relaxing",
        "releaseing",
        "relying",
        "remaining",
        "remembering",
        "reminding",
        "removeing",
        "repairing",
        "repeating",
        "replaceing",
        "replying",
        "reporting",
        "reproduceing",
        "requesting",
        "rescueing",
        "retireing",
        "returning",
        "rhymeing",
        "rinseing",
        "risking",
        "robing",
        "rocking",
        "rolling",
        "roting",
        "rubing",
        "ruining",
        "ruleing",
        "rushing",
        "sacking",
        "sailing",
        "satisfying",
        "saveing",
        "sawing",
        "scareing",
        "scattering",
        "scolding",
        "scorching",
        "scrapeing",
        "scratching",
        "screaming",
        "screwing",
        "scribbleing",
        "scrubing",
        "sealing",
        "searching",
        "separateing",
        "serveing",
        "settleing",
        "shadeing",
        "shareing",
        "shaveing",
        "sheltering",
        "shivering",
        "shocking",
        "shoping",
        "shruging",
        "sighing",
        "signing",
        "signaling",
        "sining",
        "siping",
        "skiing",
        "skiping",
        "slaping",
        "sliping",
        "slowing",
        "smashing",
        "smelling",
        "smileing",
        "smokeing",
        "snatching",
        "sneezeing",
        "sniffing",
        "snoreing",
        "snowing",
        "soaking",
        "sootheing",
        "sounding",
        "spareing",
        "sparking",
        "sparkleing",
        "spelling",
        "spilling",
        "spoiling",
        "spoting",
        "spraying",
        "sprouting",
        "squashing",
        "squeaking",
        "squealing",
        "squeezeing",
        "staining",
        "stamping",
        "stareing",
        "starting",
        "staying",
        "steering",
        "steping",
        "stiring",
        "stitching",
        "stoping",
        "storeing",
        "straping",
        "strengthening",
        "stretching",
        "striping",
        "strokeing",
        "stuffing",
        "subtracting",
        "succeeding",
        "sucking",
        "suffering",
        "suggesting",
        "suiting",
        "supplying",
        "supporting",
        "supposeing",
        "surpriseing",
        "surrounding",
        "suspecting",
        "suspending",
        "switching",
        "talking",
        "tameing",
        "taping",
        "tasteing",
        "teaseing",
        "telephoneing",
        "tempting",
        "terrifying",
        "testing",
        "thanking",
        "thawing",
        "ticking",
        "tickleing",
        "tieing",
        "timeing",
        "tiping",
        "tireing",
        "touching",
        "touring",
        "towing",
        "traceing",
        "tradeing",
        "training",
        "transporting",
        "traping",
        "traveling",
        "treating",
        "trembleing",
        "tricking",
        "triping",
        "troting",
        "troubleing",
        "trusting",
        "trying",
        "tuging",
        "tumbleing",
        "turning",
        "twisting",
        "typeing",
        "undressing",
        "unfastening",
        "uniteing",
        "unlocking",
        "unpacking",
        "untidying",
        "useing",
        "vanishing",
        "visiting",
        "wailing",
        "waiting",
        "walking",
        "wandering",
        "wanting",
        "warming",
        "warning",
        "washing",
        "wasteing",
        "watching",
        "watering",
        "waveing",
        "weighing",
        "welcomeing",
        "whineing",
        "whiping",
        "whirling",
        "whispering",
        "whistleing",
        "winking",
        "wipeing",
        "wishing",
        "wobbleing",
        "wondering",
        "working",
        "worrying",
        "wraping",
        "wrecking",
        "wrestleing",
        "wriggleing",
        "x-raying",
        "yawning",
        "yelling",
        "ziping",
        "zooming",
    ];

    match rand::thread_rng().choose(&verbs) {
        Some(verb) => verb,
        _ => "noodling",
    }
}
